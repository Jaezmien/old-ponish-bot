// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider = "sqlite"
    url      = env("DATABASE_URL")
}

// ---

model PartOfSpeech {
    id             Int          @id @unique @default(autoincrement())
    type_of_speech String       @unique
    word           WordSpeech[]
}

// ---

model Word {
    word           String         @id @unique
    description    String?
    note           String?
    part_of_speech WordSpeech[]
    nsfw           WordNSFW?
    character      WordCharacter?
    relations      WordRelation?
}

model WordSpeech {
    id        Int          @id @default(autoincrement())
    word      Word         @relation(fields: [word_id], references: [word], onDelete: Cascade)
    word_id   String
    speech    PartOfSpeech @relation(fields: [speech_id], references: [id], onDelete: Cascade)
    speech_id Int
}

model WordNSFW {
    word_id                 String  @id
    word                    Word    @relation(fields: [word_id], references: [word], onDelete: Cascade)
    out_of_universe_context String?
    in_universe_context     String?
    nsfw_description        String? // NSFW words can have alternate descriptions.
}

model WordCharacter {
    word_id                 String  @id
    word                    Word    @relation(fields: [word_id], references: [word], onDelete: Cascade)
    character               String
    character_justification String?
}

model WordRelation {
    id      String @default(cuid())
    word    Word   @relation(fields: [word_id], references: [word], onDelete: Cascade)
    word_id String @unique
}

// ---

model Etymology {
    word            String  @id @unique
    etymology       String?
    description     String?
    parts_of_speech String?
    note            String?
    credit          String?
}

// ---

model WordOfTheDay {
    id String @id @unique @default(cuid())

    author  String
    message String

    word String
}

// ---

model Setting {
    name  String @id @unique
    value String
}
